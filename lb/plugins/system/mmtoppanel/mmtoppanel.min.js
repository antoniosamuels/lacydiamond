/**
 * $Id: mmtoppanel.min.js 571 2010-10-11 19:41:23Z martin $
 */
window.addEvent('domready',function(){if($('mmToppanel')){var topPadding=$(document.body).getStyle('paddingTop').toInt();var panelHeight=$('mmToppanel').getSize().size.y;var handleHeight=$('mmToppanel-handle').getSize().size.y;var mmToppanel=$('mmToppanel');mmToppanel.setStyles({zIndex:99999,position:'absolute',width:'100%'});panelHeight=mmToppanel.getSize().size.y-handleHeight;mmToppanel.setStyle('marginTop',-(panelHeight+topPadding));var mods=$ES('li.module',$('mmToppanel-content'));var heighest=0;if(mods.length>1){mods.each(function(mod){var height=mod.getSize().size.y;if(height>heighest)heighest=height;});mods.each(function(mod){mod.setStyle('height',heighest+'px');});}
var mmToppanelDown=function(){if(mmToppanelEaseIn!=''&&mmToppanelTransitionIn!='linear')var aniFx=Fx.Transitions[mmToppanelTransitionIn][mmToppanelEaseIn];else var aniFx=Fx.Transitions[mmToppanelTransitionIn];if(mmToppanelEaseIn==''&&mmToppanelTransitionIn=='Elastic')var aniFx=Fx.Transitions[mmToppanelTransitionIn]['easeOut'];var ani=new Fx.Style(mmToppanel,'margin-top',{duration:mmToppanelDurationIn,transition:aniFx,onComplete:function(){mmToppanel.setProperty('state','expanded');if(!$('mmToppanel-handle-bar').hasClass('expanded')){$('mmToppanel-handle-bar').addClass('expanded')}}});ani.start(-topPadding);}
var mmToppanelUp=function(){if(mmToppanelEaseOut!=''&&mmToppanelTransitionOut!='linear')var aniFx=Fx.Transitions[mmToppanelTransitionOut][mmToppanelEaseOut];else var aniFx=Fx.Transitions[mmToppanelTransitionOut];if(mmToppanelEaseOut==''&&mmToppanelTransitionOut=='Elastic')var aniFx=Fx.Transitions[mmToppanelTransitionOut]['easeOut'];var ani=new Fx.Style(mmToppanel,'margin-top',{duration:mmToppanelDurationOut,transition:aniFx,onComplete:function(){mmToppanel.setProperty('state','collapsed');$('mmToppanel-handle-bar').removeClass('expanded')}});ani.start(-(panelHeight+topPadding));}
if(mmToppanelEventHook=='mouseenter'){$('mmToppanel').addEvent('mouseenter',function(evt){var ev=new Event(evt);ev.stop();if(mmToppanel.getProperty('state')!='expanded')mmToppanelDown();});var selector='mmToppanel-handle-a';$(selector).addEvent('click',function(evt){var ev=new Event(evt);ev.stop();if(mmToppanel.getProperty('state')!='collapsed')mmToppanelUp();});}else{var selector='mmToppanel-handle-a';$(selector).addEvent('click',function(){if(mmToppanel.getProperty('state')!='expanded')mmToppanelDown();else mmToppanelUp();});}}});